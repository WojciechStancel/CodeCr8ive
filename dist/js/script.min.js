"use strict";var burgerBtn=document.querySelector(".burger-btn"),mobileNav=document.querySelector(".mobile-nav"),mobileNavItems=document.querySelectorAll(".items"),footerYear=document.querySelector(".footer-year"),hiddenElements=document.querySelectorAll(".hidden"),buttonBars=document.querySelector(".burger-btn__bars"),allSections=document.querySelectorAll(".section"),email=document.getElementById("email"),name=document.getElementById("name"),message=document.getElementById("msg"),agreement=document.getElementById("agreement"),sendBtn=document.querySelector(".submit-btn"),popup=document.querySelector(".hidden-popup"),closeBtn=document.querySelector(".close"),sendMail=function(){var e={name:document.getElementById("name").value,email:document.getElementById("email").value,msg:document.getElementById("msg").value};emailjs.send("service_rxqgqje","template_9t6ajir",e).then(function(e){document.getElementById("name").value="",document.getElementById("email").value="",document.getElementById("msg").value=""}).catch(function(e){return console.log(e)})},showError=function(e,t){var e=e.parentElement,n=e.querySelector(".error-text");e.classList.add("error"),n.textContent=t},clearError=function(e){e.parentElement.classList.remove("error")},checkForm=function(){[name,email,message].forEach(function(e){""===e.value?showError(e,e.placeholder):clearError(e)}),agreement.checked?agreement.parentElement.classList.remove("error"):agreement.parentElement.classList.add("error")},checkEmail=function(e){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?clearError(e):showError(e,"E-mail jest niepoprawny")},countErrors=function(){var e=document.querySelectorAll(".contact-box"),t=0;e.forEach(function(e){e.classList.contains("error")&&(t++,console.log(t))}),0===t&&(popup.classList.add("show-popup"),sendMail())},currentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e},observer=(currentYear(),new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e.target.classList.remove("hidden"),e.target.classList.add("show"))})})),sectionObserver=(hiddenElements.forEach(function(e){return observer.observe(e)}),function(){var t=window.scrollY;allSections.forEach(function(e){e.classList.contains("black-btn")&&e.offsetTop<=t+60?buttonBars.classList.add("black-bars-color"):!e.classList.contains("black-btn")&&e.offsetTop<=t+60&&buttonBars.classList.remove("black-bars-color")})});window.addEventListener("scroll",sectionObserver),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".nav");window.addEventListener("scroll",function(){400<=window.scrollY?e.classList.add("add-background"):e.classList.remove("add-background")})}),mobileNavItems.forEach(function(e){return e.addEventListener("click",function(){return mobileNav.classList.remove("mobile-nav-active")})}),burgerBtn.addEventListener("click",function(){mobileNav.classList.toggle("mobile-nav-active")}),sendBtn.addEventListener("click",function(e){e.preventDefault(),checkForm(),checkEmail(email),countErrors()}),closeBtn.addEventListener("click",function(){popup.classList.remove("show-popup")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJidXJnZXJCdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtb2JpbGVOYXYiLCJtb2JpbGVOYXZJdGVtcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb290ZXJZZWFyIiwiaGlkZGVuRWxlbWVudHMiLCJlbWFpbCIsImdldEVsZW1lbnRCeUlkIiwibmFtZSIsIm1lc3NhZ2UiLCJhZ3JlZW1lbnQiLCJzZW5kQnRuIiwiY2xvc2VCdG4iLCJwYXJhbXMiLCJzZW5kTWFpbCIsInZhbHVlIiwibXNnIiwiZW1haWxqcyIsInRlbXBsYXRlSWQiLCJ0aGVuIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInNob3dFcnJvciIsImlucHV0IiwiZm9ybUJveCIsInBhcmVudEVsZW1lbnQiLCJlcnJvclRleHQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImluZm8iLCJyZW1vdmUiLCJjaGVja0Zvcm0iLCJwbGFjZWhvbGRlciIsImVsIiwiY2xlYXJFcnJvciIsImNoZWNrRW1haWwiLCJjb3VudEVycm9ycyIsImFsbEJveGVzIiwiZm9yRWFjaCIsImVycm9yQ291bnQiLCJjb250YWlucyIsIkRhdGUiLCJpbm5lclRleHQiLCJlbnRyeSIsInllYXIiLCJnZXRGdWxsWWVhciIsInNlY3Rpb25PYnNlcnZlciIsImN1cnJlbnRZZWFyIiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJjdXJyZW50U2VjdGlvbiIsImFsbFNlY3Rpb25zIiwic2VjdCIsImJ1dHRvbkJhcnMiLCJvYnNlcnZlIiwid2luZG93Iiwic2Nyb2xsWSIsImFkZEV2ZW50TGlzdGVuZXIiLCJuYXYiLCJhZGRTaGFkb3ciLCJvZmZzZXRUb3AiLCJpdGVtIiwidG9nZ2xlIiwiZSIsInByZXZlbnREZWZhdWx0IiwicG9wdXAiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLFVBQVlDLFNBQVNDLGNBQWMsYUFBYSxFQUNoREMsVUFB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QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXItYnRuXCIpO1xuY29uc3QgbW9iaWxlTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2JpbGUtbmF2XCIpO1xuY29uc3QgbW9iaWxlTmF2SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLml0ZW1zXCIpO1xuY29uc3QgZm9vdGVyWWVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9vdGVyLXllYXJcIik7XG5jb25zdCBoaWRkZW5FbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGlkZGVuXCIpO1xuY29uc3QgYnV0dG9uQmFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyLWJ0bl9fYmFyc1wiKTtcbmNvbnN0IGFsbFNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zZWN0aW9uXCIpO1xuXG4vLyBFbWFpbCB2YXJpYWJsZXNcbmNvbnN0IGVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbWFpbFwiKTtcbmNvbnN0IG5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIik7XG5jb25zdCBtZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtc2dcIik7XG5jb25zdCBhZ3JlZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFncmVlbWVudFwiKTtcbmNvbnN0IHNlbmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdC1idG5cIik7XG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGlkZGVuLXBvcHVwXCIpO1xuY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsb3NlXCIpO1xuLy8gRW1haWwgU2VuZFxuY29uc3Qgc2VuZE1haWwgPSAoKSA9PiB7XG5cdGNvbnN0IHBhcmFtcyA9IHtcblx0XHRuYW1lOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIikudmFsdWUsXG5cdFx0ZW1haWw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW1haWxcIikudmFsdWUsXG5cdFx0bXNnOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1zZ1wiKS52YWx1ZSxcblx0fTtcblx0Y29uc3Qgc2VydmljZUlkID0gXCJzZXJ2aWNlX3J4cWdxamVcIjtcblx0Y29uc3QgdGVtcGxhdGVJZCA9IFwidGVtcGxhdGVfOXQ2YWppclwiO1xuXG5cdGVtYWlsanNcblx0XHQuc2VuZChzZXJ2aWNlSWQsIHRlbXBsYXRlSWQsIHBhcmFtcylcblx0XHQudGhlbigocmVzKSA9PiB7XG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIikudmFsdWUgPSBcIlwiO1xuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbWFpbFwiKS52YWx1ZSA9IFwiXCI7XG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1zZ1wiKS52YWx1ZSA9IFwiXCI7XG5cdFx0fSlcblx0XHQuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG59O1xuXG4vLyBFbWFpbCB2YWxpZGF0aW9uXG5jb25zdCBzaG93RXJyb3IgPSAoaW5wdXQsIGluZm8pID0+IHtcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XG5cdGNvbnN0IGVycm9yVGV4dCA9IGZvcm1Cb3gucXVlcnlTZWxlY3RvcihcIi5lcnJvci10ZXh0XCIpO1xuXHRmb3JtQm94LmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiKTtcblx0ZXJyb3JUZXh0LnRleHRDb250ZW50ID0gaW5mbztcbn07XG5cbmNvbnN0IGNsZWFyRXJyb3IgPSAoaW5wdXQpID0+IHtcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XG5cdGZvcm1Cb3guY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpO1xufTtcblxuY29uc3QgY2hlY2tGb3JtID0gKCkgPT4ge1xuXHRbbmFtZSwgZW1haWwsIG1lc3NhZ2VdLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0aWYgKGVsLnZhbHVlID09PSBcIlwiKSB7XG5cdFx0XHRzaG93RXJyb3IoZWwsIGVsLnBsYWNlaG9sZGVyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2xlYXJFcnJvcihlbCk7XG5cdFx0fVxuXHR9KTtcblxuXHRpZiAoIWFncmVlbWVudC5jaGVja2VkKSB7XG5cdFx0YWdyZWVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xuXHR9IGVsc2Uge1xuXHRcdGFncmVlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKTtcblx0fVxufTtcblxuY29uc3QgY2hlY2tFbWFpbCA9IChlbWFpbCkgPT4ge1xuXHRjb25zdCByZSA9XG5cdFx0L14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfC4oXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcblxuXHRpZiAocmUudGVzdChlbWFpbC52YWx1ZSkpIHtcblx0XHRjbGVhckVycm9yKGVtYWlsKTtcblx0fSBlbHNlIHtcblx0XHRzaG93RXJyb3IoZW1haWwsIFwiRS1tYWlsIGplc3QgbmllcG9wcmF3bnlcIik7XG5cdH1cbn07XG5cbmNvbnN0IGNvdW50RXJyb3JzID0gKCkgPT4ge1xuXHRjb25zdCBhbGxCb3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29udGFjdC1ib3hcIik7XG5cdGxldCBlcnJvckNvdW50ID0gMDtcblxuXHRhbGxCb3hlcy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoXCJlcnJvclwiKSkge1xuXHRcdFx0ZXJyb3JDb3VudCsrO1xuXHRcdFx0Y29uc29sZS5sb2coZXJyb3JDb3VudCk7XG5cdFx0fVxuXHR9KTtcblxuXHRpZiAoZXJyb3JDb3VudCA9PT0gMCkge1xuXHRcdHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJzaG93LXBvcHVwXCIpO1xuXHRcdHNlbmRNYWlsKCk7XG5cdH1cbn07XG5cbi8vIFVydWNoYW1pYW5pZSBBbmltYWNqaSAvIFBvYmllcmFuaWUgcm9rdVxuXG5jb25zdCBjdXJyZW50WWVhciA9ICgpID0+IHtcblx0Y29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcblx0Zm9vdGVyWWVhci5pbm5lclRleHQgPSB5ZWFyO1xufTtcblxuY3VycmVudFllYXIoKTtcblxuY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcblx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0ZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG5cdFx0XHRlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XG5cdFx0fVxuXHR9KTtcbn0pO1xuXG5oaWRkZW5FbGVtZW50cy5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xuXG5jb25zdCBzZWN0aW9uT2JzZXJ2ZXIgPSAoKSA9PiB7XG5cdGNvbnN0IGN1cnJlbnRTZWN0aW9uID0gd2luZG93LnNjcm9sbFk7XG5cdGFsbFNlY3Rpb25zLmZvckVhY2goKHNlY3QpID0+IHtcblx0XHRpZiAoXG5cdFx0XHRzZWN0LmNsYXNzTGlzdC5jb250YWlucyhcImJsYWNrLWJ0blwiKSAmJlxuXHRcdFx0c2VjdC5vZmZzZXRUb3AgPD0gY3VycmVudFNlY3Rpb24gKyA2MFxuXHRcdCkge1xuXHRcdFx0YnV0dG9uQmFycy5jbGFzc0xpc3QuYWRkKFwiYmxhY2stYmFycy1jb2xvclwiKTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0IXNlY3QuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYmxhY2stYnRuXCIpICYmXG5cdFx0XHRzZWN0Lm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIDYwXG5cdFx0KSB7XG5cdFx0XHRidXR0b25CYXJzLmNsYXNzTGlzdC5yZW1vdmUoXCJibGFjay1iYXJzLWNvbG9yXCIpO1xuXHRcdH1cblx0fSk7XG59O1xuXG4vLyBMaXN0ZW5lcnlcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2VjdGlvbk9ic2VydmVyKTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuXHRjb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdlwiKTtcblxuXHRjb25zdCBhZGRTaGFkb3cgPSAoKSA9PiB7XG5cdFx0aWYgKHdpbmRvdy5zY3JvbGxZID49IDQwMCkge1xuXHRcdFx0bmF2LmNsYXNzTGlzdC5hZGQoXCJhZGQtYmFja2dyb3VuZFwiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoXCJhZGQtYmFja2dyb3VuZFwiKTtcblx0XHR9XG5cdH07XG5cblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgYWRkU2hhZG93KTtcbn0pO1xuXG5tb2JpbGVOYXZJdGVtcy5mb3JFYWNoKChpdGVtKSA9PlxuXHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuXHRcdG1vYmlsZU5hdi5jbGFzc0xpc3QucmVtb3ZlKFwibW9iaWxlLW5hdi1hY3RpdmVcIilcblx0KVxuKTtcblxuYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cdG1vYmlsZU5hdi5jbGFzc0xpc3QudG9nZ2xlKFwibW9iaWxlLW5hdi1hY3RpdmVcIik7XG59KTtcblxuc2VuZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdGNoZWNrRm9ybSgpO1xuXHRjaGVja0VtYWlsKGVtYWlsKTtcblx0Y291bnRFcnJvcnMoKTtcbn0pO1xuXG5jbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuXHRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1wb3B1cFwiKTtcbn0pO1xuIl19
