"use strict";var burgerBtn,nav,mobileNav,mobileNavItems,hiddenElements,buttonBars,allSections,email,name,message,sendBtn,agreement,popup,closeBtn,cookieBox,cookieBtn,prepareDomElements=function(){burgerBtn=document.querySelector(".burger-btn"),nav=document.querySelector(".nav"),mobileNav=document.querySelector(".mobile-nav"),mobileNavItems=document.querySelectorAll(".items"),hiddenElements=document.querySelectorAll(".hidden"),buttonBars=document.querySelector(".burger-btn__bars"),allSections=document.querySelectorAll(".section"),email=document.getElementById("email"),name=document.getElementById("name"),message=document.getElementById("msg"),agreement=document.getElementById("agreement"),sendBtn=document.querySelector(".submit-btn"),popup=document.querySelector(".hidden-popup"),closeBtn=document.querySelector(".close"),cookieBox=document.querySelector(".cookie-box"),cookieBtn=document.querySelector(".cookie-btn")},prepareDomEvents=function(){cookieBtn.addEventListener("click",cookiesAlert),mobileNavItems.forEach(function(e){return e.addEventListener("click",function(){return mobileNav.classList.remove("mobile-nav-active")})}),burgerBtn.addEventListener("click",function(){mobileNav.classList.toggle("mobile-nav-active")}),sendBtn.addEventListener("click",function(e){e.preventDefault(),checkForm(),checkEmail(email),countErrors()}),closeBtn.addEventListener("click",function(){popup.classList.remove("show-popup")}),window.addEventListener("scroll",sectionObserver),document.addEventListener("DOMContentLoaded",function(){window.addEventListener("scroll",function(){400<=window.scrollY?nav.classList.add("add-background"):nav.classList.remove("add-background")})})},navLink=document.querySelectorAll(".nav__link"),cookiesAlert=(navLink.forEach(function(e){e.addEventListener("click",function(){document.querySelector(".nav-active").classList.remove("nav-active"),e.classList.add("nav-active")})}),function(){localStorage.setItem("cookie","true"),cookieBox.classList.add("cookies-sleep")}),showCookie=function(){localStorage.getItem("cookie")&&cookieBox.classList.add("cookies-sleep")},showError=function(e,t){var e=e.parentElement,o=e.querySelector(".error-text");e.classList.add("error"),o.textContent=t},clearError=function(e){e.parentElement.classList.remove("error")},checkForm=function(){[name,email,message].forEach(function(e){""===e.value?showError(e,e.placeholder):clearError(e)}),agreement.checked?agreement.parentElement.classList.remove("error"):agreement.parentElement.classList.add("error")},checkEmail=function(e){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?clearError(e):showError(e,"E-mail jest niepoprawny")},countErrors=function(){var e=document.querySelectorAll(".contact-box"),t=0;e.forEach(function(e){e.classList.contains("error")&&t++}),0===t&&popup.classList.add("show-popup")};function sectionObserver(){var t=window.scrollY;allSections.forEach(function(e){e.classList.contains("black-btn")&&e.offsetTop<=t+60?buttonBars.classList.add("black-bars-color"):!e.classList.contains("black-btn")&&e.offsetTop<=t+60&&buttonBars.classList.remove("black-bars-color")})}prepareDomElements();var observer=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e.target.classList.remove("hidden"),e.target.classList.add("show"))})});hiddenElements.forEach(function(e){return observer.observe(e)}),prepareDomEvents(),showCookie();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJidXJnZXJCdG4iLCJuYXYiLCJtb2JpbGVOYXYiLCJtb2JpbGVOYXZJdGVtcyIsImhpZGRlbkVsZW1lbnRzIiwiYnV0dG9uQmFycyIsImFsbFNlY3Rpb25zIiwiZW1haWwiLCJuYW1lIiwibWVzc2FnZSIsInNlbmRCdG4iLCJhZ3JlZW1lbnQiLCJwb3B1cCIsImNsb3NlQnRuIiwiY29va2llQm94IiwiY29va2llQnRuIiwicXVlcnlTZWxlY3RvciIsImRvY3VtZW50IiwicHJlcGFyZURvbUV2ZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRFdmVudExpc3RlbmVyIiwiY29va2llc0FsZXJ0IiwiZm9yRWFjaCIsIml0ZW0iLCJyZW1vdmUiLCJnZXRFbGVtZW50QnlJZCIsImNsYXNzTGlzdCIsInByZXZlbnREZWZhdWx0Iiwid2luZG93IiwiZSIsImNoZWNrRm9ybSIsIm5hdkxpbmsiLCJsaW5rIiwic2VjdGlvbk9ic2VydmVyIiwic2hvd0Nvb2tpZSIsImZvcm1Cb3giLCJwYXJlbnRFbGVtZW50IiwibG9jYWxTdG9yYWdlIiwiY29va2llRXhpc3QiLCJlcnJvclRleHQiLCJ0ZXh0Q29udGVudCIsImNsZWFyRXJyb3IiLCJzaG93RXJyb3IiLCJwbGFjZWhvbGRlciIsImFkZCIsImNoZWNrZWQiLCJnZXRJdGVtIiwicmUiLCJpbnB1dCIsImluZm8iLCJ2YWx1ZSIsImNvdW50RXJyb3JzIiwiZXJyb3JDb3VudCIsImVsIiwiY29udGFpbnMiLCJjaGVja0VtYWlsIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsInRhcmdldCIsIm9ic2VydmUiLCJhbGxCb3hlcyIsImN1cnJlbnRTZWN0aW9uIiwic2Nyb2xsWSIsInNlY3QiLCJvZmZzZXRUb3AiLCJwcmVwYXJlRG9tRWxlbWVudHMiLCJvYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBSUEsVUFDSEMsSUFE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bkMsQ0FBQyxDQUNGLENBQUMsRUFFRHhDLGVBQWVrQixRQUFRLFNBQUMrQixHQUFFLE9BQUthLFNBQVNQLFFBQVFOLENBQUUsQ0FBQyxDQUFBLEVBQ25EbkMsaUJBQWlCLEVBQ2pCZ0IsV0FBVyIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGJ1cmdlckJ0bixcblx0bmF2LFxuXHRtb2JpbGVOYXYsXG5cdG1vYmlsZU5hdkl0ZW1zLFxuXHRoaWRkZW5FbGVtZW50cyxcblx0YnV0dG9uQmFycyxcblx0YWxsU2VjdGlvbnMsXG5cdGVtYWlsLFxuXHRuYW1lLFxuXHRtZXNzYWdlLFxuXHRzZW5kQnRuLFxuXHRhZ3JlZW1lbnQsXG5cdHBvcHVwLFxuXHRjbG9zZUJ0bixcblx0Y29va2llQm94LFxuXHRjb29raWVCdG47XG5cbmNvbnN0IHByZXBhcmVEb21FbGVtZW50cyA9ICgpID0+IHtcblx0YnVyZ2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXItYnRuXCIpO1xuXHRuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdlwiKTtcblx0bW9iaWxlTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2JpbGUtbmF2XCIpO1xuXHRtb2JpbGVOYXZJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaXRlbXNcIik7XG5cdGhpZGRlbkVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oaWRkZW5cIik7XG5cdGJ1dHRvbkJhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlci1idG5fX2JhcnNcIik7XG5cdGFsbFNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zZWN0aW9uXCIpO1xuXHRlbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW1haWxcIik7XG5cdG5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIik7XG5cdG1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1zZ1wiKTtcblx0YWdyZWVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZ3JlZW1lbnRcIik7XG5cdHNlbmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdC1idG5cIik7XG5cdHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oaWRkZW4tcG9wdXBcIik7XG5cdGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZVwiKTtcblx0Y29va2llQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb29raWUtYm94XCIpO1xuXHRjb29raWVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvb2tpZS1idG5cIik7XG59O1xuXG5jb25zdCBwcmVwYXJlRG9tRXZlbnRzID0gKCkgPT4ge1xuXHRjb29raWVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNvb2tpZXNBbGVydCk7XG5cblx0bW9iaWxlTmF2SXRlbXMuZm9yRWFjaCgoaXRlbSkgPT5cblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuXHRcdFx0bW9iaWxlTmF2LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2JpbGUtbmF2LWFjdGl2ZVwiKVxuXHRcdClcblx0KTtcblxuXHRidXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcblx0XHRtb2JpbGVOYXYuY2xhc3NMaXN0LnRvZ2dsZShcIm1vYmlsZS1uYXYtYWN0aXZlXCIpO1xuXHR9KTtcblxuXHRzZW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGNoZWNrRm9ybSgpO1xuXHRcdGNoZWNrRW1haWwoZW1haWwpO1xuXHRcdGNvdW50RXJyb3JzKCk7XG5cdH0pO1xuXG5cdGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cdFx0cG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInNob3ctcG9wdXBcIik7XG5cdH0pO1xuXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHNlY3Rpb25PYnNlcnZlcik7XG5cblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuXHRcdGNvbnN0IGFkZFNoYWRvdyA9ICgpID0+IHtcblx0XHRcdGlmICh3aW5kb3cuc2Nyb2xsWSA+PSA0MDApIHtcblx0XHRcdFx0bmF2LmNsYXNzTGlzdC5hZGQoXCJhZGQtYmFja2dyb3VuZFwiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5hdi5jbGFzc0xpc3QucmVtb3ZlKFwiYWRkLWJhY2tncm91bmRcIik7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGFkZFNoYWRvdyk7XG5cdH0pO1xufTtcbmNvbnN0IG5hdkxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdl9fbGlua1wiKTtcbm5hdkxpbmsuZm9yRWFjaCgobGluaykgPT4ge1xuXHRsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXYtYWN0aXZlXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJuYXYtYWN0aXZlXCIpO1xuXHRcdGxpbmsuY2xhc3NMaXN0LmFkZChcIm5hdi1hY3RpdmVcIik7XG5cdH0pO1xufSk7XG5cbmNvbnN0IGNvb2tpZXNBbGVydCA9ICgpID0+IHtcblx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjb29raWVcIiwgXCJ0cnVlXCIpO1xuXHRjb29raWVCb3guY2xhc3NMaXN0LmFkZChcImNvb2tpZXMtc2xlZXBcIik7XG59O1xuXG5jb25zdCBzaG93Q29va2llID0gKCkgPT4ge1xuXHRjb25zdCBjb29raWVFeGlzdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY29va2llXCIpO1xuXHRpZiAoY29va2llRXhpc3QpIHtcblx0XHRjb29raWVCb3guY2xhc3NMaXN0LmFkZChcImNvb2tpZXMtc2xlZXBcIik7XG5cdH1cbn07XG5cbi8vIEVtYWlsIHZhbGlkYXRpb25cbmNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgaW5mbykgPT4ge1xuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudDtcblx0Y29uc3QgZXJyb3JUZXh0ID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yLXRleHRcIik7XG5cdGZvcm1Cb3guY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xuXHRlcnJvclRleHQudGV4dENvbnRlbnQgPSBpbmZvO1xufTtcblxuY29uc3QgY2xlYXJFcnJvciA9IChpbnB1dCkgPT4ge1xuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudDtcblx0Zm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JcIik7XG59O1xuXG5jb25zdCBjaGVja0Zvcm0gPSAoKSA9PiB7XG5cdFtuYW1lLCBlbWFpbCwgbWVzc2FnZV0uZm9yRWFjaCgoZWwpID0+IHtcblx0XHRpZiAoZWwudmFsdWUgPT09IFwiXCIpIHtcblx0XHRcdHNob3dFcnJvcihlbCwgZWwucGxhY2Vob2xkZXIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjbGVhckVycm9yKGVsKTtcblx0XHR9XG5cdH0pO1xuXG5cdGlmICghYWdyZWVtZW50LmNoZWNrZWQpIHtcblx0XHRhZ3JlZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZXJyb3JcIik7XG5cdH0gZWxzZSB7XG5cdFx0YWdyZWVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpO1xuXHR9XG59O1xuXG5jb25zdCBjaGVja0VtYWlsID0gKGVtYWlsKSA9PiB7XG5cdGNvbnN0IHJlID1cblx0XHQvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8LihcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuXG5cdGlmIChyZS50ZXN0KGVtYWlsLnZhbHVlKSkge1xuXHRcdGNsZWFyRXJyb3IoZW1haWwpO1xuXHR9IGVsc2Uge1xuXHRcdHNob3dFcnJvcihlbWFpbCwgXCJFLW1haWwgamVzdCBuaWVwb3ByYXdueVwiKTtcblx0fVxufTtcblxuY29uc3QgY291bnRFcnJvcnMgPSAoKSA9PiB7XG5cdGNvbnN0IGFsbEJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb250YWN0LWJveFwiKTtcblx0bGV0IGVycm9yQ291bnQgPSAwO1xuXG5cdGFsbEJveGVzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucyhcImVycm9yXCIpKSB7XG5cdFx0XHRlcnJvckNvdW50Kys7XG5cdFx0fVxuXHR9KTtcblxuXHRpZiAoZXJyb3JDb3VudCA9PT0gMCkge1xuXHRcdHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJzaG93LXBvcHVwXCIpO1xuXHR9XG59O1xuXG5mdW5jdGlvbiBzZWN0aW9uT2JzZXJ2ZXIoKSB7XG5cdGNvbnN0IGN1cnJlbnRTZWN0aW9uID0gd2luZG93LnNjcm9sbFk7XG5cdGFsbFNlY3Rpb25zLmZvckVhY2goKHNlY3QpID0+IHtcblx0XHRpZiAoXG5cdFx0XHRzZWN0LmNsYXNzTGlzdC5jb250YWlucyhcImJsYWNrLWJ0blwiKSAmJlxuXHRcdFx0c2VjdC5vZmZzZXRUb3AgPD0gY3VycmVudFNlY3Rpb24gKyA2MFxuXHRcdCkge1xuXHRcdFx0YnV0dG9uQmFycy5jbGFzc0xpc3QuYWRkKFwiYmxhY2stYmFycy1jb2xvclwiKTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0IXNlY3QuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYmxhY2stYnRuXCIpICYmXG5cdFx0XHRzZWN0Lm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIDYwXG5cdFx0KSB7XG5cdFx0XHRidXR0b25CYXJzLmNsYXNzTGlzdC5yZW1vdmUoXCJibGFjay1iYXJzLWNvbG9yXCIpO1xuXHRcdH1cblx0fSk7XG59XG5cbnByZXBhcmVEb21FbGVtZW50cygpO1xuY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcblx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0ZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG5cdFx0XHRlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XG5cdFx0fVxuXHR9KTtcbn0pO1xuXG5oaWRkZW5FbGVtZW50cy5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xucHJlcGFyZURvbUV2ZW50cygpO1xuc2hvd0Nvb2tpZSgpO1xuIl19
