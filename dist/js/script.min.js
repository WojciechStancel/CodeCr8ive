"use strict";var burgerBtn=document.querySelector(".burger-btn"),nav=document.querySelector(".nav"),menuItems=document.querySelectorAll(".nav__link-item"),mobileNav=document.querySelector(".mobile-nav"),mobileNavItems=document.querySelectorAll(".items"),hiddenElements=document.querySelectorAll(".hidden"),buttonBars=document.querySelector(".burger-btn__bars"),allSections=document.querySelectorAll(".section"),accordion=document.querySelector(".accordion"),accordionBtns=document.querySelectorAll(".accordion-btn"),cookieBox=document.querySelector(".cookie-box"),cookieBtn=document.querySelector(".cookie-btn"),footerYear=document.querySelector(".footer-year");function sectionObserver(){var o=window.scrollY;allSections.forEach(function(e){e.classList.contains("black-btn")&&e.offsetTop<=o+60?buttonBars.classList.add("black-bars-color"):!e.classList.contains("black-btn")&&e.offsetTop<=o+60&&buttonBars.classList.remove("black-bars-color")})}mobileNavItems.forEach(function(e){return e.addEventListener("click",function(){return mobileNav.classList.remove("mobile-nav-active")})}),burgerBtn.addEventListener("click",function(){mobileNav.classList.toggle("mobile-nav-active")}),document.addEventListener("DOMContentLoaded",function(){window.addEventListener("scroll",function(){50<=window.scrollY?nav.classList.add("add-background"):nav.classList.remove("add-background")})});var observer=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e.target.classList.remove("hidden"),e.target.classList.add("show"))})});function openAccordion(){var e=this.nextElementSibling;e.classList.contains("active-accordion")?(e.classList.remove("active-accordion"),rotateIcon(this,0)):(closeAccordion(),e.classList.add("active-accordion"),rotateIcon(this,180))}function rotateIcon(e,o){e=e.querySelector(".accordion-btn-icon");e&&(e.style.transform="rotate(".concat(o,"deg)"))}hiddenElements.forEach(function(e){return observer.observe(e)});var closeAccordion=function(){document.querySelectorAll(".accordion-info").forEach(function(e){e.classList.remove("active-accordion"),rotateIcon(e.previousElementSibling,0)})},closeAccordionAfterClickOutside=function(e){e.target.classList.contains("accordion-btn-drop")||e.target.classList.contains("accordion-info")||e.target.classList.contains("accordion-info-text")||closeAccordion()},cookiesAlert=function(){localStorage.setItem("cookie","true"),cookieBox.classList.add("cookies-sleep")},showCookie=function(){localStorage.getItem("cookie")&&cookieBox.classList.add("cookies-sleep")},currentYear=(showCookie(),function(){var e=(new Date).getFullYear();footerYear.innerText=e}),handleScrollSpy=(currentYear(),Array.prototype.forEach.call(document.querySelectorAll("[data-remove-orphans]"),function(e,o){var t=e.innerHTML;e.innerHTML=t.replace(/(\s)([\S]{1,2})[\s]+/g,"$1$2&nbsp;")}),function(){var c;document.body.classList.contains("main-page")&&(c=[],allSections.forEach(function(e){var o=window.scrollY,t=e.offsetTop-100,n=e.offsetHeight;t<=o&&o<t+n&&(c.push(e),((o=document.querySelector('[href*="'.concat(c[0].id,'"]')))?(menuItems.forEach(function(e){return e.classList.remove("nav-active")}),o):(menuItems.forEach(function(e){return e.classList.remove("nav-active")}),menuItems[0])).classList.add("nav-active"))}))});document.addEventListener("DOMContentLoaded",function(){"/index.html"!==window.location.pathname&&!"/"||document.querySelectorAll(".smooth-scroll a").forEach(function(e){e.addEventListener("click",function(e){var o,t=this.getAttribute("href");t.includes("#")&&(t=t.split("#")[1],o=document.getElementById(t))&&(e.preventDefault(),history.pushState(null,null,"#".concat(t)),window.scrollTo({top:o.offsetTop-("aboutme"===t?100:30),behavior:"smooth"}))})})}),window.addEventListener("scroll",handleScrollSpy),window.addEventListener("scroll",sectionObserver),window.addEventListener("click",closeAccordionAfterClickOutside),accordionBtns.forEach(function(e){return e.addEventListener("click",openAccordion)}),cookieBtn.addEventListener("click",cookiesAlert);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJidXJnZXJCdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuYXYiLCJtZW51SXRlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibW9iaWxlTmF2IiwibW9iaWxlTmF2SXRlbXMiLCJoaWRkZW5FbGVtZW50cyIsImJ1dHRvbkJhcnMiLCJhbGxTZWN0aW9ucyIsImFjY29yZGlvbiIsImFjY29yZGlvbkJ0bnMiLCJjb29raWVCb3giLCJzZWN0aW9uT2JzZXJ2ZXIiLCJjdXJyZW50U2VjdGlvbiIsIndpbmRvdyIsInNjcm9sbFkiLCJmb3JFYWNoIiwic2VjdCIsImNsYXNzTGlzdCIsImFkZCIsIm9mZnNldFRvcCIsImNvbnRhaW5zIiwiYWRkRXZlbnRMaXN0ZW5lciIsIml0ZW0iLCJyZW1vdmUiLCJlbnRyeSIsIm9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwidGFyZ2V0IiwiY2xvc2VBY2NvcmRpb24iLCJhY2NvcmRpb25JbmZvIiwicm90YXRlSWNvbiIsImJ1dHRvbiIsInRyYW5zZm9ybSIsImFuZ2xlIiwidGhpcyIsImFsbEFjdGl2ZUl0ZW1zIiwiaWNvbiIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJvYnNlcnZlIiwiZWwiLCJjbG9zZUFjY29yZGlvbkFmdGVyQ2xpY2tPdXRzaWRlIiwiZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJjb29raWVzQWxlcnQiLCJjdXJyZW50WWVhciIsImZvb3RlclllYXIiLCJpbm5lclRleHQiLCJnZXRJdGVtIiwiQXJyYXkiLCJzaG93Q29va2llIiwic3RyaW5nIiwieWVhciIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImhhbmRsZVNjcm9sbFNweSIsInNlY3Rpb25zIiwicHJvdG90eXBlIiwic2VjdGlvbiIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsInRvcCIsImkiLCJwdXNoIiwiaW5uZXJIVE1MIiwiYWN0aXZlU2VjdGlvbiIsImJvZHkiLCJvZmZzZXQiLCJjb25jYXQiLCJpZCIsImxpbmtzIiwibGluayIsImhyZWYiLCJpbmNsdWRlcyIsInRhcmdldElkIiwidGFyZ2V0RWxlbWVudCIsInNjcm9sbE1hcmdpblRvcCIsImJlaGF2aW9yIiwibG9jYXRpb24iLCJwYXRobmFtZSIsImdldEF0dHJpYnV0ZSIsInNwbGl0IiwiZ2V0RWxlbWVudEJ5SWQiLCJwcmV2ZW50RGVmYXVsdCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJzY3JvbGxUbyIsImJ0biIsIm9wZW5BY2NvcmRpb24iLCJjb29raWVCdG4iXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLFVBQVlDLFNBQVNDLGNBQWMsYUFBYSxFQUNoREMsSUFBTUYsU0FBU0MsY0FBYyxNQUFNLEVBRG5DRixVQUFZQyxTQUFTQyxpQkFBYyxpQkFBYyxFQUNqREMsVUFBY0YsU0FBQ0MsY0FBcUIsYUFBQSxFQUNwQ0UsZUFBWUgsU0FBU0ksaUJBQWlCLFFBQUEsRUFDdENDLGVBQVlMLFNBQVNDLGlCQUFjLFNBQWMsRUFDakRLLFdBQWNOLFNBQUdBLGNBQVNJLG1CQUEwQixFQUNwREcsWUFBY1AsU0FBV0ksaUJBQWlCLFVBQVUsRUFDcERJLFVBQWFSLFNBQVNDLGNBQWMsWUFBQSxFQUNwQ1EsY0FBY1QsU0FBU0ksaUJBQWlCLGdCQUFXLEVBQ25ETSxVQUFZVixTQUFTQyxjQUFjLGFBQWEsRUFDaERVLFVBQWFYLFNBQUdBLGNBQVNJLGFBQWlCLEVBQzFDUSxXQUFZWixTQUFTQyxjQUFjLGNBQWMsRUFldkQsU0FBU1ksa0JBQ1IsSUFBTUMsRUFBaUJDLE9BQU9DLFFBQzlCUCxZQUFXUSxRQUFRLFNBQUNDLEdBRWxCQSxFQUdBVixVQUFXVyxTQUFVQyxXQUFJLEdBRnpCRixFQUdBRyxXQUNNRixFQUFVRyxHQUZoQmQsV0FNRFcsVUFBQUMsSUFBQSxrQkFBQSxFQUVGLENBQUFGLEVBQUFDLFVBQUFHLFNBQUEsV0FBQSxHQUxHSixFQUFLRyxXQUFhUCxFQUFpQixJQVF0Q2QsV0FBU3VCLFVBQUFBLE9BQWlCLGtC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YUFBYSxDQUFDLENBQUEsRUFDM0VDLFVBQVVyRSxpQkFBaUIsUUFBU3dCLFlBQVkiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyLWJ0blwiKTtcbmNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2XCIpO1xuY29uc3QgbWVudUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2xpbmstaXRlbVwiKTtcbmNvbnN0IG1vYmlsZU5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9iaWxlLW5hdlwiKTtcbmNvbnN0IG1vYmlsZU5hdkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pdGVtc1wiKTtcbmNvbnN0IGhpZGRlbkVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oaWRkZW5cIik7XG5jb25zdCBidXR0b25CYXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXItYnRuX19iYXJzXCIpO1xuY29uc3QgYWxsU2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNlY3Rpb25cIik7XG5jb25zdCBhY2NvcmRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFjY29yZGlvblwiKTtcbmNvbnN0IGFjY29yZGlvbkJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFjY29yZGlvbi1idG5cIik7XG5jb25zdCBjb29raWVCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvb2tpZS1ib3hcIik7XG5jb25zdCBjb29raWVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvb2tpZS1idG5cIik7XG5jb25zdCBmb290ZXJZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb290ZXIteWVhclwiKTtcblxuLy8gQUNUSVZFIE1PQklMRSBOQVZcbm1vYmlsZU5hdkl0ZW1zLmZvckVhY2goKGl0ZW0pID0+XG5cdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG5cdFx0bW9iaWxlTmF2LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2JpbGUtbmF2LWFjdGl2ZVwiKVxuXHQpXG4pO1xuXG5idXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcblx0bW9iaWxlTmF2LmNsYXNzTGlzdC50b2dnbGUoXCJtb2JpbGUtbmF2LWFjdGl2ZVwiKTtcbn0pO1xuXG5mdW5jdGlvbiBzZWN0aW9uT2JzZXJ2ZXIoKSB7XG5cdGNvbnN0IGN1cnJlbnRTZWN0aW9uID0gd2luZG93LnNjcm9sbFk7XG5cdGFsbFNlY3Rpb25zLmZvckVhY2goKHNlY3QpID0+IHtcblx0XHRpZiAoXG5cdFx0XHRzZWN0LmNsYXNzTGlzdC5jb250YWlucyhcImJsYWNrLWJ0blwiKSAmJlxuXHRcdFx0c2VjdC5vZmZzZXRUb3AgPD0gY3VycmVudFNlY3Rpb24gKyA2MFxuXHRcdCkge1xuXHRcdFx0YnV0dG9uQmFycy5jbGFzc0xpc3QuYWRkKFwiYmxhY2stYmFycy1jb2xvclwiKTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0IXNlY3QuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYmxhY2stYnRuXCIpICYmXG5cdFx0XHRzZWN0Lm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIDYwXG5cdFx0KSB7XG5cdFx0XHRidXR0b25CYXJzLmNsYXNzTGlzdC5yZW1vdmUoXCJibGFjay1iYXJzLWNvbG9yXCIpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8vIEFERCBCQUNLR1JPVU5EIFRPIE5BVlxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuXHRjb25zdCBhZGRTaGFkb3cgPSAoKSA9PiB7XG5cdFx0aWYgKHdpbmRvdy5zY3JvbGxZID49IDUwKSB7XG5cdFx0XHRuYXYuY2xhc3NMaXN0LmFkZChcImFkZC1iYWNrZ3JvdW5kXCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRuYXYuY2xhc3NMaXN0LnJlbW92ZShcImFkZC1iYWNrZ3JvdW5kXCIpO1xuXHRcdH1cblx0fTtcblxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBhZGRTaGFkb3cpO1xufSk7XG5cbi8vIEFOSU1BVElPTiBPQlNFUlZFUlxuY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcblx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0ZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG5cdFx0XHRlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XG5cdFx0fVxuXHR9KTtcbn0pO1xuXG5oaWRkZW5FbGVtZW50cy5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xuXG4vLyBBQ0NPUkRJT05cbmZ1bmN0aW9uIG9wZW5BY2NvcmRpb24oKSB7XG5cdGNvbnN0IGFjY29yZGlvbkluZm8gPSB0aGlzLm5leHRFbGVtZW50U2libGluZztcblxuXHRpZiAoYWNjb3JkaW9uSW5mby5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtYWNjb3JkaW9uXCIpKSB7XG5cdFx0YWNjb3JkaW9uSW5mby5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLWFjY29yZGlvblwiKTtcblx0XHRyb3RhdGVJY29uKHRoaXMsIDApO1xuXHR9IGVsc2Uge1xuXHRcdGNsb3NlQWNjb3JkaW9uKCk7XG5cdFx0YWNjb3JkaW9uSW5mby5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLWFjY29yZGlvblwiKTtcblx0XHRyb3RhdGVJY29uKHRoaXMsIDE4MCk7XG5cdH1cbn1cbmZ1bmN0aW9uIHJvdGF0ZUljb24oYnV0dG9uLCBhbmdsZSkge1xuXHRjb25zdCBpY29uID0gYnV0dG9uLnF1ZXJ5U2VsZWN0b3IoXCIuYWNjb3JkaW9uLWJ0bi1pY29uXCIpO1xuXHRpZiAoaWNvbikge1xuXHRcdGljb24uc3R5bGUudHJhbnNmb3JtID0gYHJvdGF0ZSgke2FuZ2xlfWRlZylgO1xuXHR9XG59XG5jb25zdCBjbG9zZUFjY29yZGlvbiA9ICgpID0+IHtcblx0Y29uc3QgYWxsQWN0aXZlSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFjY29yZGlvbi1pbmZvXCIpO1xuXHRhbGxBY3RpdmVJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG5cdFx0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLWFjY29yZGlvblwiKTtcblx0XHRyb3RhdGVJY29uKGl0ZW0ucHJldmlvdXNFbGVtZW50U2libGluZywgMCk7XG5cdH0pO1xufTtcbmNvbnN0IGNsb3NlQWNjb3JkaW9uQWZ0ZXJDbGlja091dHNpZGUgPSAoZSkgPT4ge1xuXHRpZiAoXG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWNjb3JkaW9uLWJ0bi1kcm9wXCIpIHx8XG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWNjb3JkaW9uLWluZm9cIikgfHxcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJhY2NvcmRpb24taW5mby10ZXh0XCIpXG5cdCkge1xuXHRcdHJldHVybjtcblx0fVxuXHRjbG9zZUFjY29yZGlvbigpO1xufTtcblxuLy8gQ09PS0lFU1xuY29uc3QgY29va2llc0FsZXJ0ID0gKCkgPT4ge1xuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNvb2tpZVwiLCBcInRydWVcIik7XG5cdGNvb2tpZUJveC5jbGFzc0xpc3QuYWRkKFwiY29va2llcy1zbGVlcFwiKTtcbn07XG5jb25zdCBzaG93Q29va2llID0gKCkgPT4ge1xuXHRjb25zdCBjb29raWVFeGlzdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY29va2llXCIpO1xuXHRpZiAoY29va2llRXhpc3QpIHtcblx0XHRjb29raWVCb3guY2xhc3NMaXN0LmFkZChcImNvb2tpZXMtc2xlZXBcIik7XG5cdH1cbn07XG5zaG93Q29va2llKCk7XG5cbi8vIEZPT1RFUiBZRUFSXG5jb25zdCBjdXJyZW50WWVhciA9ICgpID0+IHtcblx0Y29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcblx0Zm9vdGVyWWVhci5pbm5lclRleHQgPSB5ZWFyO1xufTtcbmN1cnJlbnRZZWFyKCk7XG5cbi8vIFJFTU9WRSBPUlBIQU5TXG5BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKFxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtcmVtb3ZlLW9ycGhhbnNdXCIpLFxuXHRmdW5jdGlvbiAoZWwsIGkpIHtcblx0XHRsZXQgc3RyaW5nID0gZWwuaW5uZXJIVE1MO1xuXHRcdGVsLmlubmVySFRNTCA9IHN0cmluZy5yZXBsYWNlKC8oXFxzKShbXFxTXXsxLDJ9KVtcXHNdKy9nLCBcIiQxJDImbmJzcDtcIik7XG5cdH1cbik7XG5cbi8vIFNDUk9MTFNQWVxuY29uc3QgaGFuZGxlU2Nyb2xsU3B5ID0gKCkgPT4ge1xuXHRpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJtYWluLXBhZ2VcIikpIHtcblx0XHRjb25zdCBzZWN0aW9ucyA9IFtdO1xuXG5cdFx0YWxsU2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuXHRcdFx0bGV0IHRvcCA9IHdpbmRvdy5zY3JvbGxZO1xuXHRcdFx0bGV0IG9mZnNldCA9IHNlY3Rpb24ub2Zmc2V0VG9wIC0gMTAwO1xuXHRcdFx0bGV0IGhlaWdodCA9IHNlY3Rpb24ub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0aWYgKHRvcCA+PSBvZmZzZXQgJiYgdG9wIDwgb2Zmc2V0ICsgaGVpZ2h0KSB7XG5cdFx0XHRcdHNlY3Rpb25zLnB1c2goc2VjdGlvbik7XG5cdFx0XHRcdGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuXHRcdFx0XHRcdGBbaHJlZio9XCIke3NlY3Rpb25zWzBdLmlkfVwiXWBcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAoYWN0aXZlU2VjdGlvbikge1xuXHRcdFx0XHRcdG1lbnVJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJuYXYtYWN0aXZlXCIpKTtcblx0XHRcdFx0XHRhY3RpdmVTZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJuYXYtYWN0aXZlXCIpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG1lbnVJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJuYXYtYWN0aXZlXCIpKTtcblx0XHRcdFx0XHRtZW51SXRlbXNbMF0uY2xhc3NMaXN0LmFkZChcIm5hdi1hY3RpdmVcIik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxufTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xuXHRjb25zdCBpc0luZGV4UGFnZSA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gXCIvaW5kZXguaHRtbFwiIHx8IFwiL1wiO1xuXG5cdGlmIChpc0luZGV4UGFnZSkge1xuXHRcdGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zbW9vdGgtc2Nyb2xsIGFcIik7XG5cblx0XHRsaW5rcy5mb3JFYWNoKChsaW5rKSA9PiB7XG5cdFx0XHRsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHRjb25zdCBocmVmID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuXG5cdFx0XHRcdGlmIChocmVmLmluY2x1ZGVzKFwiI1wiKSkge1xuXHRcdFx0XHRcdGNvbnN0IHRhcmdldElkID0gaHJlZi5zcGxpdChcIiNcIilbMV07XG5cdFx0XHRcdFx0Y29uc3QgdGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldElkKTtcblx0XHRcdFx0XHRpZiAodGFyZ2V0RWxlbWVudCkge1xuXHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdFx0XHRoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBudWxsLCBgIyR7dGFyZ2V0SWR9YCk7XG5cdFx0XHRcdFx0XHRjb25zdCBzY3JvbGxNYXJnaW5Ub3AgPSB0YXJnZXRJZCA9PT0gXCJhYm91dG1lXCIgPyAxMDAgOiAzMDtcblx0XHRcdFx0XHRcdHdpbmRvdy5zY3JvbGxUbyh7XG5cdFx0XHRcdFx0XHRcdHRvcDogdGFyZ2V0RWxlbWVudC5vZmZzZXRUb3AgLSBzY3JvbGxNYXJnaW5Ub3AsXG5cdFx0XHRcdFx0XHRcdGJlaGF2aW9yOiBcInNtb290aFwiLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxufSk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNjcm9sbFNweSk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzZWN0aW9uT2JzZXJ2ZXIpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZUFjY29yZGlvbkFmdGVyQ2xpY2tPdXRzaWRlKTtcbmFjY29yZGlvbkJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5BY2NvcmRpb24pKTtcbmNvb2tpZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY29va2llc0FsZXJ0KTtcbiJdfQ==
